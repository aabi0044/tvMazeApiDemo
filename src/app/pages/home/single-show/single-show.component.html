<div id="page-content-sidebar" style="margin-top: 55px ; padding: 0px">
  <!-- Collapsible Shopping Cart -->

  <div id="shopping-cart" class="collapse navbar-collapse remove-padding">
    <h4 class="inner-sidebar-header" style="padding: 15px">
      <i class="gi gi-film"></i>
      <b>Episodes List </b>
    </h4>
    <table class="table table-striped table-borderless table-vcenter">

      <tbody>
        <tr *ngFor="let item of allEpisodes" (click)="showDetails(item.id)">

          <td style="width: 80px;">

            <img [src]="item.images" alt="Image" class="img-responsive center-block" style="max-width: 50px;">

          </td>
          <td style="width: 80px;" class="text-center">
            <!-- <input type="text" class="form-control text-center" value="1"> -->
            <p style="margin:0px ;"> {{item.name}}</p>
          </td>

        </tr>

      </tbody>
    </table>

  </div>
  <!-- END Collapsible Shopping Cart -->
</div>
<div class="row" style="margin-top: 35px ; padding: 0px" *ngIf="showDetail">
  <div class="widget-content border-bottom text-center themed-background-muted">
    <img [src]="showDetail.image.original" alt="avatar" class=" img-thumbnail img-thumbnail-avatar-2x">
    <h2 class="widget-heading h3 text-dark">{{showDetail.name}}({{showDetail.rating.average}})</h2>
    <span class="text-muted">
      <strong *ngIf="showDetail.genres.length==1">{{showDetail.genres[0]}}</strong>
      <strong *ngIf="showDetail.genres.length==2">{{showDetail.genres[0]}} , {{showDetail.genres[1]}}</strong>
      <strong *ngIf="showDetail.genres.length==3">{{showDetail.genres[0]}} , {{showDetail.genres[1]}},
        {{showDetail.genres[2]}}</strong>
      <strong *ngIf="showDetail.genres.length==4">{{showDetail.genres[0]}}, {{showDetail.genres[1]}},
        {{showDetail.genres[2]}} ,{{showDetail.genres[3]}}</strong>
      <strong *ngIf="showDetail.genres.length==5 || showDetail.genres.length==6  ">{{showDetail.genres[0]}}
        ,{{showDetail.genres[1]}} ,{{showDetail.genres[2]}} ,{{showDetail.genres[3]}} ,{{showDetail.genres[4]}}</strong>

    </span>


  </div>
  <div class="col-sm-12 col-lg-12" style="    padding: 5px 0px 0px 0px;">
    <a class="widget">
      <div class="widget-content widget-content-mini themed-background-muted">
        <span class="pull-right text-muted" *ngIf="seasons"> <b style="color:teal">({{showDetail.status}}) </b> Total
          Seasons: <b style="color: steelblue" >{{seasons.length}}</b></span>
        <strong class="text-dark">Seasons</strong>
      </div>
      <div class="widget-content text-right clearfix" *ngFor="let item of seasons;let i=index" (click)="openTree(i)">
        <div class="  pull-left">
          <!-- <i class="gi gi-airplane text-light-op"></i> -->
          <!-- <img [src]="item.image.original" *ngIf="item.image.original" class="img-responsive center-block" style="max-width: 50px;"> -->
          <img [src]="item.images" class="img-responsive center-block" style="max-width: 50px;">
        </div>
        <h2 class="widget-heading h3 themed-color-social"><strong>Season: {{item.number}}</strong></h2>
        <span class="text-muted" *ngIf="seasons" >Episodes: {{item.episodes.length}}</span>

        <div class="pull-left text-left tree" *ngIf="this.open==i" >

          <ul tabindex="0" class="" style="list-style-type:none; margin-top: 20px !important" *ngFor="let items of item.episodes;let in =index">
            <li>
              <span id=" _st_node_7111_1_0" class="easytree-node  easytree-exp-n easytree-ico-c">
                <!-- <span class="easytree-expander"></span> -->
                  <span>
                 {{in+1}}   <img [src]="items.images"class="img"></span>
                  <span class="easytree-title">
                    <a>{{items.name}}</a>
                </span></span>
            </li>

          </ul>
        </div>
      </div>

    </a>

  </div>
  <div class="col-sm-12 col-lg-12" style="    padding: 0px 0px 0px 0px;">
    <a class="widget">
      <div class="widget-content widget-content-mini themed-background-muted" style="border-bottom: 1px solid">
        <!-- <span class="pull-right text-muted" *ngIf="cast">   <b style="color:teal">({{showDetail.status}}) </b> Total Seasons: <b style="color: steelblue">{{seasons.length}}</b></span> -->
        <strong class="text-dark">Cast</strong>
      </div>
      <table class="table table-striped table-borderless table-vcenter">

        <tbody *ngFor="let item of cast ;let i =index" >
          <tr *ngIf="i<4" (click)="showPersonDetails(item.id)">

            <td style="width: 80px;">

              <img [src]="item.images" alt="Image" class="img-responsive center-block"
                style="max-width: 50px;max-height: 50px;">

            </td>
            <td style="width: 180px;" class="text-center">
              <!-- <input type="text" class="form-control text-center" value="1"> -->
              <p style="margin:0px ;"> {{item.character.name}}</p>
            </td>
            <td class="text-left">
              <!-- <strong>{{item.rating.average}}</strong> -->
            </td>
          </tr>

        </tbody>
      </table>
      <button type="button" (click)="fullCast()"  class="btn btn-block btn-primary">See full cast and crew</button>
    </a>
  </div>
  <div class="col-sm-12 col-lg-12" style="    padding: 0px 0px 0px 0px;">
    <a class="widget">
      <div class="widget-content widget-content-mini themed-background-muted" style="border-bottom: 1px solid">
        <!-- <span class="pull-right text-muted" *ngIf="cast">   <b style="color:teal">({{showDetail.status}}) </b> Total Seasons: <b style="color: steelblue">{{seasons.length}}</b></span> -->
        <strong class="text-dark">Crew</strong>
      </div>
      <table class="table table-striped table-borderless table-vcenter">

        <tbody *ngFor="let item of crew ;let i=index">
          <tr *ngIf="i<5" (click)="showPersonDetails(item.id)">

            <td style="width: 80px;">

              <img [src]="item.image" alt="Image" class="img-responsive center-block"
                style="max-width: 50px;max-height: 50px;">
              <!-- <img [src]="item.image" *ngIf="!item.person.image.original" alt="Image" class="img-responsive center-block" style="max-width: 50px;"> -->

            </td>
            <td style="width: 180px;" class="text-center">
              <!-- <input type="text" class="form-control text-center" value="1"> -->
              <p style="margin:0px ;"> {{item.person.name}}</p>
            </td>
            <td class="text-left">
              <!-- <strong>{{item.rating.average}}</strong> -->
              <p style="margin:0px ;"> {{item.type}}</p>
            </td>
          </tr>

        </tbody>
      </table>
      <button (click)="fullCast()" type="button" style="margin-bottom: 35px !important" class="btn btn-block btn-primary">See full cast and crew</button>
    </a>

  </div>
</div>
<ngx-loading [show]="loading"></ngx-loading>
